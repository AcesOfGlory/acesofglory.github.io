---
layout: page
published: true
---

<h1>Probability Generator</h1>

<p>
	Measures the probable case of losing
</p>

Iterations: <input id="iterations" value=100 size=5 style="text-align:center;margin-left:4em;"/>
<br>
<br>

Wins: <input id="wins" size=5 value=5 style="text-align:center;margin-left:4em;"/> 
Loses: <input id="loses" size=5 value=1 style="text-align:center;margin-left:4em;">
<br>    
<br>

<button onclick="generateProbability()">Generate</button>
<br>
<hr>

<h3>Statistics</h3>
<div id=output></div>

<hr>

<h3>Console</h3>
<textarea disabled id="console" cols="70" rows="8" data-role="none"></textarea>


<script type="text/javascript">

	function probability(win=5, lose=1, iterations=100){
		var total = [...Array(win)].map(_ => "Win").concat([...Array(lose)].map(_ => "Lose"));
		var countNum = [];

		for (var i = 1; i <= iterations; i++){
			var counter = ["Win"];
			while (total[Math.floor(Math.random() * total.length)] != "Win"){
				counter.push("Lose");
			}
			countNum.push(counter.length)
			document.getElementById("console").value += `It took ${counter.length} iteration(s) to get a win`
			if (i != iterations){
				document.getElementById("console").value += "\n"	
			}
		}
		document.getElementById("console").scrollTop = document.getElementById("console").scrollHeight 
		
		const totalSum = countNum.reduce((x, y) => x+y, 0)
		const iterationLength = countNum.length
		const winCount = total.filter(x => x == "Win").length

		document.getElementById("output").innerHTML = `Iterations: ${iterations}` + "<br>" +
													  `Total iterations: ${totalSum}` + "<br>" + "<br>" +
													   
													  `Average iterations: ${(totalSum / countNum.length).toFixed(3)}` + "<br>" +
													  `Expected iterations: ${(total.length / winCount).toFixed(3)}` + "<br>" + "<br>" +
													  
													  `Odds: ${(total.filter(x => x == "Win").length * 100 / total.length).toFixed(3)}` + "<br>" + "<br>" +
													   
													  `Maximum: ${Math.max(...countNum)}` + "<br>" +
													  `Minimum: ${Math.min(...countNum)}` + "<br>" +
													  `Range: ${Math.max(...countNum) - Math.min(...countNum)}`
		
		
		

	}

	function generateProbability(){
		document.getElementById("console").value = ""
		
		var iterationAmount = parseInt(document.getElementById("iterations").value)
		var winAmount = parseInt(document.getElementById("wins").value)
		var loseAmount = parseInt(document.getElementById("loses").value)
		probability(winAmount, loseAmount, iterationAmount)
	}

</script>
